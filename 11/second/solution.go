package main

import (
	"fmt"
	"strings"
	"time"
)

func main() {

	startTime := time.Now()

	var rows = strings.Split(inputs, "\n")

	var expRows []bool
	var expCols []bool

	for _ = range rows {
		expRows = append(expRows, true)
	}
	for _ = range rows[0] {
		expCols = append(expCols, true)
	}

	for i, row := range rows {
		for k, cell := range row {
			if cell != '.' {
				expRows[i] = false
				expCols[k] = false
			}
		}
	}

	// FIND ESPANDED ROWS AND COLS
	var galaxies []Galaxy
	expX := 0
	for i, row := range rows {
		if expRows[i] {
			expX += 999999
		}
		expY := 0
		for k, cell := range row {
			if expCols[k] {
				expY += 999999
			}
			if cell == '#' {
				galaxies = append(galaxies, Galaxy{i + expX, k + expY})
			}
		}
	}

	res := 0

	for i := 0; i < len(galaxies); i++ {
		for k := i + 1; k < len(galaxies); k++ {
			res += distance(galaxies[i], galaxies[k])
		}
	}

	elapsedTime := time.Since(startTime)
	fmt.Printf("Your function took %s\n", elapsedTime)

	fmt.Println(res)
}

func distance(a Galaxy, b Galaxy) int {
	distX := a.x - b.x
	if distX < 0 {
		distX *= -1
	}
	distY := a.y - b.y
	if distY < 0 {
		distY *= -1
	}
	return distY + distX
}

type Galaxy struct {
	x int
	y int
}

const inputs = `..#..........#................................................#.............................................................................
...................................#............................................#..........................#............................#...
......................................................................#.............................#.......................................
........#...................................#..................................................................................#............
.................#.........#..........#...............#........................................#.................#..........................
.................................#..............#...................................#.......................................................
#.........................................................................#...............#............................#....................
.......................#........................................................#...........................................................
.......#.........................................................#................................#.................................#.......
..................#...............................#...........................................................#.............................
...........#.................................#..............#................................................................#...........#..
..........................#........#........................................................................................................
.#..................................................................#................#.................#....................................
......................#.........................#.....................................................................................#.....
..........................................#....................#..............#....................#........................................
.........................................................................................#.........................#.....#..................
..............#.............................................................................................................................
..........................................................................................................#........................#........
.....#.........................#.............#....................#.......#........#........................................#...............
..........................#...........#...............................................................#.....................................
...................#...........................................................................#................#...........................
#............#........................................#................................................................................#....
......................................................................................................................#.........#...........
........................................#...................................................................................................
...#............#........#...........................................................#......................................................
.............................................#..............................................................................................
............#.......#..........................................................................#..................#.....#...................
................................................................................#.........................#....................#.....#......
.................................................................#..........................................................................
..........................#...............#.................................................#.................#.............................
#.........#...........................................#............................................#........................................
.....................#................#................................#....................................................................
.....................................................................................#.....................#............#...................
............................................................................................................................................
.............................#..........................................................................................................#...
.................#..................#......#......#............................#......................#..........#...........#..............
.......#.................#...........................................#......................................................................
......................................................................................#.....................................................
...#....................................................#......#..................................#.........................................
............#........#.........#..............#.........................#....................................#..............................
.......................................................................................................#................#.....#.............
..............................................................................................#.............................................
....................................................................................#..............................#......................#.
#.............#.........#..................#.............................................#...........................................#......
.............................#......#...........#.........#...................#.............................................................
.......#...........................................................................................#.....#..................................
...................#........................................................................................................#.....#.........
....................................................#..................#....................................................................
.................................#............................#.............................................................................
.......................#.................................#...........................................................................#......
........................................#..........................................#............#...............#...........................
.........................................................................................#..................................................
.............................................#......................#.......................................................................
..........................#...........................................................................#.........................#...........
............................................................................................................................................
...........#....................................................................#......#....................................................
....................................................................................................................#......................#
...............#........................#....................................................#..............................................
.....#.........................................#................#...........................................................................
.......................#.............................................#................................#..................#.........#........
#.........#.........................................#..........................#........#.......................#...........................
..............................#.............................................................................................................
.....................................#....................................................................#.....................#...........
..............................................................#.............#...............................................................
..#......................................................................................................................................#..
.................#.........#........................................................#....................................#..................
................................#.......................#.......................................#...........................................
..........................................#.....#...................................................................#.......................
......#......#.........................................................................................#......................#.............
......................................#..............#......................................................................................
..................#...........#.................................#...........................................................................
..#.......#............................................................................#...................................................#
......................#..................................#..............#...................................................................
..........................................................................................................................#.................
.................................#.........#....................................................#...........................................
............................................................................................................................................
....................#...............................................................................#.......................................
.#...................................#..........#...........................................................................................
.......#..............................................................#.................................#...................................
.............................#...........#.....................#.................................#.............................#............
.......................#....................................................................#...................#......................#....
.............#.....................#.................#..........................#....................................#......................
...........................................................................#............#...........#..............................#........
..........................................................................................................................................#.
.#..............................#...........................................................................................................
.............................................#............#...............................................#.................................
...............#.......#..........................#.................#.......................#...........................#...................
...............................................................................#.................................................#..........
.........#..............................#..............................................................#......#.............................
............................................................................................................................................
................................................#........................................#..................................................
.........................................................................#......................#.....................................#.....
...........#......#..........#......................#......................................................................#................
..........................................................#...................#.....#.......#.....................#.........................
......................................#.....................................................................................................
........#................................................................................................................................#..
......................#........................#................#....................................#........#.............................
..#.......................................#.......................................................................................#.........
..............#.............................................................................................................................
.........................................................................#..................................................................
.........................#..........#........#........................................#.....................................................
.....#..................................................#..................................................................................#
..............................#................................#..............#..............#................#............#................
........................................................................................................#.............#.........#...........
.#.............#.......................................................#....................................................................
.......................................#....................................................................................................
.......................#..........................#.......#.................................................................................
.......#........................................................................#...........................................................
............................#........................................#................................................................#.....
..........................................#..........#........................................................#.............................
..............#..........................................................................#.....#..................................#.........
#...........................................................................................................................................
..................................#................................................................#........................#...............
..................................................................#.........................#...............#..........................#....
.......................................#...................................#..........#............................#........................
..................#.....#.....#.............#..........................................................#....................................
...................................................................................................................................#........
......................................................#.......................................................#.............................
...........#...............#...................#...............#....................#...............#.................#.....................
.........................................#......................................................................................#...........
...............................#.........................................................#......#.................#.....................#...
..#.................................................#....................................................#...............#..................
........#.............................#.....................................................................................................
..............#.........#................................................#..................................................................
..........................................#.....................................#....................#.......................#..............
............................................................................................................................................
................................#...............#..........................................................#.....#...............#..........
..#.......#.................................................................................................................................
........................................................................#...............................................#...................
............................#.................................#.........................#..........#........................................
....................#.............................#.........................................................................#...............
........................................................#....................................#..........#......#............................
........#...................................................................................................................................
.........................................................................#..........#.......................................................
............#......................#............#.................................................................#.....................#...
.............................#.....................................................................#........................................
........................................................................................................................#...................
.......#.........#...........................................................................#.........#......#.............................
........................#.............................#..........#...................................................................#......
...#.................................#........#................................#.....#.......................................#..............`

const result = 9550717
